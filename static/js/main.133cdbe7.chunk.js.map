{"version":3,"sources":["deck.gl-layer.jsx","App.js","reportWebVitals.js","index.js"],"names":["RenderLayers","props","maxActive","minActive","data","onHover","value","map","a","active","Math","max","min","elevation","scaleLinear","ColumnLayer","id","pickable","extruded","getPosition","d","coordinates","diskResolution","radius","elevationScale","getFillColor","getElevation","INITIAL_VIEW_STATE","longitude","latitude","zoom","maxZoom","minZoom","pitch","bearing","App","state","hover","x","y","hoveredObject","object","layer","this","setState","fetchData","axios","all","get","then","spread","World","location","country","continent","countryInfo","long","lat","catch","error","console","log","style","position","zIndex","background","pointerEvents","borderRadius","left","top","className","toLocaleString","layers","renderTooltip","initialViewState","controller","mapStyle","mapboxApiAccessToken","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.133cdbe7.chunk.js","sourcesContent":["import { ColumnLayer } from \"deck.gl\";\nimport { scaleLinear } from \"d3-scale\";\n\nexport const RenderLayers = (props) => {\n  let maxActive, minActive;\n  const radiusColumns = 20000;\n  const { data, onHover } = props;\n  const value = data.map((a) => a.active);\n  maxActive = Math.max(...value);\n  minActive = Math.min(...value);\n  const elevation = scaleLinear([minActive, maxActive], [1000, 20000]);\n\n  return [\n    new ColumnLayer({\n    id: \"cases\",\n    data,\n    pickable: true,\n    extruded: true,\n    getPosition: d => d.coordinates,\n    diskResolution: 10,\n    radius: radiusColumns,\n    elevationScale: 50,\n    getFillColor: [138, 3, 3],\n    getElevation: d => elevation(d.active),\n    onHover,\n    }),\n  ];\n}","import React from \"react\";\nimport DeckGL from \"deck.gl\";\nimport { StaticMap } from 'react-map-gl';\nimport axios from \"axios\";\nimport { RenderLayers } from \"./deck.gl-layer.jsx\";\n\n\nconst MAPBOX_ACCESS_TOKEN = \"pk.eyJ1IjoieW9zbyIsImEiOiJja2d3aHVkMWUwYWZoMzFwbnNxdnhjbmtoIn0.72451mV-JRRnWfaqmz0ZnQ\";\nconst mapStyle = \"mapbox://styles/mapbox/dark-v10\";\nconst INITIAL_VIEW_STATE = {\n  longitude: 12.8333,\n  latitude: 42.8333,\n  zoom: 4,\n  maxZoom: 20,\n  minZoom: 4,\n  pitch: 60,\n  bearing: 5\n};\n\n// let data;\n\nexport default class App extends React.Component {\n  state = {};\n  constructor(props) {\n    super();\n    this.state = {\n      data: [],\n      hover: {\n        x: 0,\n        y: 0,\n        hoveredObject: null\n      }\n    };\n  }\n  renderTooltip({ x, y, object, layer }) {\n    this.setState({ hover: { x, y, layer, hoveredObject: object } });\n  }\n  componentDidMount() {\n    this.fetchData();\n  }\n  fetchData() {\n    axios.all([\n      axios.get('https://disease.sh/v2/countries?allowNull=false'),\n    ]).then(axios.spread((World) => {\n      let data = World.data || [];\n      data = data.map(function (location) {\n        return {\n          active: location.active,\n          country: location.country,\n          continent: location.continent,\n          coordinates: [location.countryInfo.long, location.countryInfo.lat]\n        };\n      });\n      // data = data.filter(location => (location.continent === \"Europe\"));\n      this.setState({ data: data });\n    })).catch((error) => {\n      console.log(error); return [];\n    })\n  }\n  render() {\n    const { hover, data } = this.state;\n    console.log(data);\n    return (\n      <div>\n        {hover.hoveredObject && (\n          <div style={{\n            position: \"absolute\",\n            zIndex: 1000,\n            background: \"#ffffff\",\n            pointerEvents: \"none\",\n            borderRadius: \"5px\",\n            left: hover.x,\n            top: hover.y\n          }} >\n            <ul className=\"hoveredObjectData\">\n              <li><h4>{hover.hoveredObject.country}</h4></li>\n              <li>active cases: <span>{hover.hoveredObject.active.toLocaleString()}</span></li>\n            </ul>\n          </div>\n          )\n        }\n        <DeckGL layers={RenderLayers({ data: data, onHover: hover => this.renderTooltip(hover)})} initialViewState={INITIAL_VIEW_STATE} controller={true} ><StaticMap mapStyle={mapStyle} mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN} />\n        </DeckGL>\n      </div>\n    );\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}