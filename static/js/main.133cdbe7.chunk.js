(this.webpackJsonpdatviz=this.webpackJsonpdatviz||[]).push([[0],{120:function(e,t){},178:function(e,t,n){},215:function(e,t){},220:function(e,t,n){"use strict";n.r(t);var a=n(4),o=n.n(a),c=n(151),i=n.n(c),r=(n(178),n(152)),s=n(153),l=n(154),u=n(164),d=n(233),h=n(160),v=n(106),b=n.n(v),j=n(121),f=n(236),p=n(234),O=function(e){var t,n,a=e.data,o=e.onHover,c=a.map((function(e){return e.active}));t=Math.max.apply(Math,Object(j.a)(c)),n=Math.min.apply(Math,Object(j.a)(c));var i=Object(p.a)([n,t],[1e3,2e4]);return[new f.a({id:"cases",data:a,pickable:!0,extruded:!0,getPosition:function(e){return e.coordinates},diskResolution:10,radius:2e4,elevationScale:50,getFillColor:[138,3,3],getElevation:function(e){return i(e.active)},onHover:o})]},x=n(38),y={longitude:12.8333,latitude:42.8333,zoom:4,maxZoom:20,minZoom:4,pitch:60,bearing:5},m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={},a.state={data:[],hover:{x:0,y:0,hoveredObject:null}},a}return Object(s.a)(n,[{key:"renderTooltip",value:function(e){var t=e.x,n=e.y,a=e.object,o=e.layer;this.setState({hover:{x:t,y:n,layer:o,hoveredObject:a}})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;b.a.all([b.a.get("https://disease.sh/v2/countries?allowNull=false")]).then(b.a.spread((function(t){var n=t.data||[];n=n.map((function(e){return{active:e.active,country:e.country,continent:e.continent,coordinates:[e.countryInfo.long,e.countryInfo.lat]}})),e.setState({data:n})}))).catch((function(e){return console.log(e),[]}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.hover,a=t.data;return console.log(a),Object(x.jsxs)("div",{children:[n.hoveredObject&&Object(x.jsx)("div",{style:{position:"absolute",zIndex:1e3,background:"#ffffff",pointerEvents:"none",borderRadius:"5px",left:n.x,top:n.y},children:Object(x.jsxs)("ul",{className:"hoveredObjectData",children:[Object(x.jsx)("li",{children:Object(x.jsx)("h4",{children:n.hoveredObject.country})}),Object(x.jsxs)("li",{children:["active cases: ",Object(x.jsx)("span",{children:n.hoveredObject.active.toLocaleString()})]})]})}),Object(x.jsx)(d.a,{layers:O({data:a,onHover:function(t){return e.renderTooltip(t)}}),initialViewState:y,controller:!0,children:Object(x.jsx)(h.a,{mapStyle:"mapbox://styles/mapbox/dark-v10",mapboxApiAccessToken:"pk.eyJ1IjoieW9zbyIsImEiOiJja2d3aHVkMWUwYWZoMzFwbnNxdnhjbmtoIn0.72451mV-JRRnWfaqmz0ZnQ"})})]})}}]),n}(o.a.Component),g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(m,{})}),document.getElementById("root")),g()}},[[220,1,2]]]);
//# sourceMappingURL=main.133cdbe7.chunk.js.map